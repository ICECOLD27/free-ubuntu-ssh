name: SSH Server

on:
  workflow_dispatch:

jobs:
  ssh-server:
    runs-on: ubuntu-latest
    steps:
      - name: Start SSH server
        run: |
          sudo apt update && sudo apt install -y openssh-server
          mkdir -p ~/.ssh
          echo "${{ secrets.SSH_PUBLIC_KEY }}" >> ~/.ssh/authorized_keys
          sudo service ssh start
          echo "SSH server started. Connect using public IP of the runner."
